kubeadm

install ansible (using a shell script) on ansible host
for centos:

    sudo yum install epel-release
    sudo yum install ansible


install kubeadm on all the hosts



ANSIBLE role template
mkdir <name of role>
    mkdir defaults files handlers meta templates tasks vars


after kubeadm config:
Your Kubernetes control-plane has initialized successfully!

To start using your cluster, you need to run the following as a regular user:

  mkdir -p $HOME/.kube
  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
  sudo chown $(id -u):$(id -g) $HOME/.kube/config

enp0s3 has the same IP on all the nodes, why?




options for ci-cd for this project:
jenkins through docker/kubernetes



ci-cd-course-server-8484
plugins {
  id "com.moowork.node" version "1.2.0"
}

node {
  download = true
}

task build

    task zip(type: Zip) {
        from ('.') {
		    include "*"
		    include "bin/**"
		    include "data/**"
		    include "node_modules/**"
		    include "public/**"
		    include "routes/**"
		    include "views/**"
	    }
	    destinationDir(file("dist"))
	    baseName "trainSchedule"
    }
    build.dependsOn zip
    zip.dependsOn npm_build

build.dependsOn npm_build
npm_build.dependsOn npmInstall
npm_build.dependsOn npm_test
npm_test.dependsOn npmInstall


GitHub - Jenkins - ACG - Lab - Personal Access Token
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

Jenkins kubernetes setup:
Add GitHub username/personal access Token
Add DockerHub ID/Password
Add kubeconfig for kubernetes cluster


Horizontal Pod Autoscalers
requires metrics API (not usually installed?)

kubectl get --raw /apis/metrics.k8s.io/


https://verify.acloud.guru/FE95026A423C

tp-link router:
TPteaLINK